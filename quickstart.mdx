---
title: 'Quickstart'
description: 'Get your first Vaultkit query running in 5 minutes'
---

## Prerequisites

<CardGroup cols={2}>
  <Card title="Node.js 18+" icon="node">
    Required for the TypeScript SDK
  </Card>
  <Card title="Vaultkit Account" icon="user">
    [Sign up free](https://app.vaultkit.dev/signup)
  </Card>
</CardGroup>

## Setup

<Steps>
  <Step title="Get Your Agent Credentials">
    1. Go to [app.vaultkit.dev](https://app.vaultkit.dev)
    2. Click "Create New Agent"
    3. Name your agent (e.g., "My AI Assistant")
    4. Copy your `AGENT_ID` and `API_KEY`
  </Step>

  <Step title="Install Vaultkit SDK">
    Create a new project and install the SDK:

    ```bash
    mkdir my-ai-agent && cd my-ai-agent
    npm init -y
    npm install @vaultkit/client
    ```

    Create a `.env` file:

    ```bash
    VAULTKIT_AGENT_ID=your_agent_id_here
    VAULTKIT_API_KEY=your_api_key_here
    ```
  </Step>

  <Step title="Create Your First Agent">
    Create `index.js`:

    ```javascript
    import { Vaultkit } from '@vaultkit/client';
    import dotenv from 'dotenv';

    dotenv.config();

    const vault = new Vaultkit({
      agentId: process.env.VAULTKIT_AGENT_ID,
      apiKey: process.env.VAULTKIT_API_KEY
    });

    // Generate auth URL for user
    const authUrl = vault.getAuthorizationUrl({
      permissions: ['github:repos:read'],
      redirect_uri: 'http://localhost:3000/callback'
    });

    console.log('Send user to:', authUrl);
    ```
  </Step>

  <Step title="Handle User Authorization">
    Add Express to handle the callback:

    ```bash
    npm install express
    ```

    Update `index.js`:

    ```javascript
    import express from 'express';
    import { Vaultkit } from '@vaultkit/client';
    import dotenv from 'dotenv';

    dotenv.config();

    const app = express();
    const vault = new Vaultkit({
      agentId: process.env.VAULTKIT_AGENT_ID,
      apiKey: process.env.VAULTKIT_API_KEY
    });

    // Homepage with auth link
    app.get('/', (req, res) => {
      const authUrl = vault.getAuthorizationUrl({
        permissions: ['github:repos:read'],
        redirect_uri: 'http://localhost:3000/callback'
      });
      
      res.send(`
        <h1>Vaultkit Demo</h1>
        <a href="${authUrl}">Connect GitHub</a>
      `);
    });

    // Handle OAuth callback
    app.get('/callback', async (req, res) => {
      const { code } = req.query;
      const { userId } = await vault.handleCallback(code);
      
      // Store userId however you manage user sessions
      res.redirect(`/repos?userId=${userId}`);
    });

    app.listen(3000, () => {
      console.log('Demo at http://localhost:3000');
    });
    ```
  </Step>

  <Step title="Query User Data">
    Add a route to query repositories:

    ```javascript
    app.get('/repos', async (req, res) => {
      const { userId } = req.query; // Get from your auth system
      
      // Query with structured filters
      const repos = await vault.query({
        userId, // Required: identifies which user's data to access
        resource: 'github:repos',
        filters: {
          visibility: 'public',
          language: 'javascript',
          pushed: 'last_month'
        },
        select: ['name', 'description', 'stars', 'url']
      });
      
      res.json({
        message: 'Filtered repositories',
        count: repos.length,
        repos: repos
      });
    });
    ```
  </Step>
</Steps>

## Run Your Agent

```bash
node index.js
```

Visit [http://localhost:3000](http://localhost:3000) and:
1. Click "Connect GitHub"
2. Authorize Vaultkit access
3. See your filtered repository data

## What Just Happened?

1. User clicked your auth link
2. Vaultkit handled the GitHub OAuth flow securely
3. User approved specific permissions
4. You queried their data with granular filters
5. Vaultkit returned only matching data (not everything)

**No OAuth tokens to manage. No refresh logic. No overfetching.**

## Add Human Approvals

Make your agent request approval for sensitive actions:

```javascript
app.post('/send-notification', async (req, res) => {
  const { userId, message, recipient } = req.body; // Get userId from your auth
  
  // Request user approval
  const approval = await vault.requestApproval({
    userId, // Required: which user to ask for approval
    action: 'send_sms',
    details: {
      to: recipient,
      message: message
    },
    context: 'Customer notification',
    urgency: 'normal'
  });
  
  if (approval.granted) {
    // User approved - send the SMS
    await sendSMS(approval.details);
    res.json({ success: true, approvalId: approval.id });
  } else {
    res.json({ success: false, reason: approval.reason });
  }
});
```

Users get instant push notifications to approve/deny actions.

## Next Steps

<CardGroup cols={2}>
  <Card title="Human Approvals Guide" icon="user-check" href="/features/human-approvals">
    Learn about approval workflows
  </Card>
  <Card title="Structured Queries" icon="filter" href="/features/structured-queries">
    Master advanced filtering
  </Card>
  <Card title="TypeScript SDK" icon="code" href="/sdks/typescript">
    Full SDK reference
  </Card>
  <Card title="API Reference" icon="book" href="/api-reference/authentication">
    Complete API documentation
  </Card>
</CardGroup>

## Common Patterns

### Query Multiple Resources

```javascript
const context = await vault.batch({
  userId: currentUserId, // Get from your auth system
  queries: [
    { resource: 'github:repos', filters: { language: 'typescript' } },
    { resource: 'github:issues', filters: { state: 'open', assigned: '@me' } },
    { resource: 'slack:messages', filters: { channel: 'engineering' } }
  ]
});
```

### Set Approval Policies

```javascript
await vault.setApprovalPolicy({
  userId: currentUserId, // Get from your auth system
  auto_approve: [
    { action: 'read_data', condition: 'always' }
  ],
  require_approval: [
    { action: 'send_message', condition: 'always' },
    { action: 'delete_data', condition: 'always' }
  ]
});
```

### Handle Errors

```javascript
try {
  const data = await vault.query({ /* ... */ });
} catch (error) {
  if (error.code === 'PERMISSION_DENIED') {
    // User needs to grant permission
    const authUrl = vault.getAuthorizationUrl({ /* ... */ });
  } else if (error.code === 'RATE_LIMITED') {
    // Back off and retry
  }
}
```

## Support

<CardGroup cols={3}>
  <Card title="Discord" icon="discord" href="https://discord.gg/vaultkit">
    Chat with developers
  </Card>
  <Card title="GitHub Issues" icon="github" href="https://github.com/vaultkit/vaultkit/issues">
    Report bugs
  </Card>
  <Card title="Email" icon="envelope" href="mailto:founders@vaultkit.dev">
    Contact founders
  </Card>
</CardGroup>